<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Returns</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">Returns :</h1>
    <% if current_user.client_service_officer? %>
        <div class="mb-4">
            <a href="<%= new_return_path %>" class="btn btn-primary">New return</a>
        </div>
    <% end %>
    <div class="row">
        <% @returns.each do |return_record| %>
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Order : <%= return_record.items.first.present? ? return_record.order.order_number : 'N/A' %></h5>
                        <p class="card-text">
                            <strong>Status :</strong> <%= return_record.status %><br>
                            <strong>State :</strong> <%= return_record.state %><br>
                            <strong>Comment :</strong> <%= return_record.comment %>
                        </p>
                    </div>
                    <div class="card-footer">
                        <%= link_to 'Show', return_record, class: 'btn btn-info' %>
                        <% if current_user.warehouse_operator? %>
                            <%= link_to 'Edit', edit_return_path(return_record), class: 'btn btn-warning' %>
                        <% end %>
                    </div>
                </div>
            </div>
        <% end %>
    </div>
</div>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>
</html>
